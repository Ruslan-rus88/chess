* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
}

.game-container {
  max-width: 1200px;
  margin: 0 auto;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 30px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

.game-header {
  text-align: center;
  margin-bottom: 30px;
  position: relative;
}

.game-header h1 {
  font-size: 3em;
  color: #333;
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.header-buttons {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 15px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.more-games-btn {
  padding: 12px 20px;
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
  color: white;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  font-size: 1.5em;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 48px;
  min-height: 48px;
  line-height: 1;
}

.more-games-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(255, 107, 107, 0.5);
}

.more-games-btn:active {
  transform: translateY(0);
}

.radio-icon-btn {
  padding: 12px 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  font-size: 1.5em;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 48px;
  min-height: 48px;
  line-height: 1;
}

.radio-icon-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
}

.radio-icon-btn:active {
  transform: translateY(0);
}

.tabs {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin-bottom: 20px;
}

.tab-button {
  padding: 12px 30px;
  background: #e0e0e0;
  color: #333;
  border: none;
  border-radius: 8px 8px 0 0;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
  border-bottom: 3px solid transparent;
}

.tab-button:hover {
  background: #d0d0d0;
}

.tab-button.active {
  background: #fff;
  color: #667eea;
  border-bottom-color: #667eea;
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
}

.game-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 20px;
}

.current-player {
  font-size: 1.3em;
  font-weight: bold;
  color: #444;
}

#current-player {
  color: #8b4513;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

.game-status {
  font-size: 1.1em;
  color: #666;
  font-style: italic;
}

.reset-button {
  padding: 12px 24px;
  background: #4caf50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
}

.reset-button:hover {
  background: #45a049;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.undo-button,
.redo-button,
.resume-button {
  padding: 12px 24px;
  background: #17a2b8;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
}

.undo-button:hover:not(:disabled),
.redo-button:hover:not(:disabled),
.resume-button:hover:not(:disabled) {
  background: #138496;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.undo-button:disabled,
.redo-button:disabled,
.resume-button:disabled {
  background: #ccc;
  color: #666;
  cursor: not-allowed;
  transform: none;
}

.undo-button:disabled:hover,
.redo-button:disabled:hover,
.resume-button:disabled:hover {
  background: #ccc;
  transform: none;
  box-shadow: none;
}

.button-group {
  position: relative;
  display: flex;
  gap: 15px;
  align-items: center;
  flex-wrap: wrap;
  margin-left: auto;
}

.fullscreen-button {
  padding: 12px 24px;
  background: #2196f3;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
}

.fullscreen-button:hover {
  background: #1976d2;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.fullscreen-button:active {
  transform: translateY(0);
}

.settings-toggle-btn {
  padding: 12px 20px;
  background: #6c757d;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.6em;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 48px;
  min-height: 48px;
  line-height: 1;
}

.settings-toggle-btn:hover {
  background: #5a6268;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.settings-toggle-btn:active {
  transform: translateY(0);
}

/* Settings Modal */
.settings-modal-content {
  width: 500px;
  max-width: 90vw;
  padding: 0;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  overflow: hidden;
}

.settings-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 2rem 2.5rem;
  background: rgba(255, 255, 255, 0.1);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.settings-modal-header h2 {
  color: #fff;
  margin: 0;
  font-size: 2rem;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.settings-close-btn {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: #fff;
  font-size: 1.5rem;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  line-height: 1;
  padding: 0;
}

.settings-close-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: rotate(90deg);
}

.settings-modal-body {
  padding: 2.5rem;
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.settings-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 2rem 2.5rem;
  background: rgba(255, 255, 255, 0.1);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.settings-modal-header h2 {
  color: #fff;
  margin: 0;
  font-size: 2rem;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.settings-close-btn {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: #fff;
  font-size: 1.5rem;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  line-height: 1;
  padding: 0;
}

.settings-close-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: rotate(90deg);
}

.settings-modal-footer {
  padding: 1.5rem 2.5rem;
  background: rgba(255, 255, 255, 0.1);
  border-top: 1px solid rgba(255, 255, 255, 0.2);
  display: flex;
  justify-content: flex-end;
}

.setting-group {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.setting-group label {
  font-weight: bold;
  color: #fff;
  font-size: 1.1rem;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
  text-align: left;
}

.setting-select {
  padding: 1rem 1.25rem;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 0.75rem;
  background: rgba(255, 255, 255, 0.95);
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.3s ease;
  width: 100%;
  color: #333;
  font-weight: 500;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.setting-select:hover {
  border-color: rgba(255, 255, 255, 0.6);
  background: #fff;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  transform: translateY(-2px);
}

.setting-select:focus {
  outline: none;
  border-color: #ffd700;
  box-shadow: 0 0 0 3px rgba(255, 215, 0, 0.3);
  background: #fff;
}

.chess-container {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 10px;
  margin: 30px 0;
  /* Ensure proper alignment of board and labels */
}

.board-labels {
  display: flex;
  flex-direction: column;
  gap: 0;
  /* Ensure labels align perfectly with board squares */
  align-items: center;
  justify-content: center;
}

.rank-label,
.file-label {
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 1.1em;
  color: #666;
  /* Ensure perfect alignment with board squares */
  box-sizing: border-box;
  line-height: 1;
  margin: 0;
  padding: 0;
}

.chess-board-container {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow: visible;
}

.chess-board {
  display: grid;
  grid-template-columns: repeat(8, 50px);
  grid-template-rows: repeat(8, 50px);
  border: 3px solid #8b4513;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
  /* Add perspective for 3D pieces */
  transform-style: preserve-3d;
  perspective: 1000px;
}

.square {
  width: 50px;
  height: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
  transition: all 0.3s ease;
  overflow: visible;
  /* Enable 3D transforms for pieces */
  transform-style: preserve-3d;
}

.square.light {
  background-color: #f0d9b5;
}

.square.dark {
  background-color: #b58863;
}

.square:hover {
  transform: scale(1.05);
  box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
  z-index: 2;
}

.square.selected {
  background-color: #ffeb3b !important;
  box-shadow: 0 0 15px rgba(255, 235, 59, 0.8);
  z-index: 3;
}

.square.possible-move {
  background-color: rgba(76, 175, 80, 0.5) !important;
}

.square.possible-capture {
  background-color: rgba(244, 67, 54, 0.5) !important;
}

.square.last-move {
  background-color: rgba(255, 193, 7, 0.6) !important;
}

.square.king-in-check {
  background-color: rgba(244, 67, 54, 0.9) !important;
  box-shadow: 0 0 20px rgba(244, 67, 54, 1) !important;
  animation: check-pulse 1s ease-in-out infinite;
}

@keyframes check-pulse {
  0%,
  100% {
    box-shadow: 0 0 20px rgba(244, 67, 54, 1);
  }
  50% {
    box-shadow: 0 0 30px rgba(244, 67, 54, 1.2);
  }
}

.piece {
  font-size: 2.2em;
  cursor: pointer;
  user-select: none;
  position: relative;
  z-index: 1;
  display: inline-block;
  transform-style: preserve-3d;
  /* Enhanced 3D effect using multiple shadows and transforms */
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.9), 1px 1px 1px rgba(0, 0, 0, 0.8),
    2px 2px 3px rgba(0, 0, 0, 0.6), 3px 3px 5px rgba(0, 0, 0, 0.4),
    4px 4px 7px rgba(0, 0, 0, 0.3), 5px 5px 9px rgba(0, 0, 0, 0.2),
    0 0 12px rgba(0, 0, 0, 0.15);
  transform: translateZ(2px) rotateX(8deg) rotateY(-2deg);
  filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.4))
    drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.2));
}

.piece.dragging {
  opacity: 0.8;
  transform: scale(1.3);
  z-index: 1000;
  pointer-events: none;
}

.file-labels {
  display: flex;
  gap: 0;
  margin-top: 5px;
  /* Ensure labels align perfectly with board columns */
  justify-content: center;
  align-items: center;
}

.captured-pieces {
  display: flex;
  justify-content: space-around;
  margin-top: 30px;
  gap: 40px;
}

.captured-white,
.captured-black {
  flex: 1;
  text-align: center;
}

.captured-pieces h3 {
  margin-bottom: 15px;
  color: #333;
  font-size: 1.3em;
}

.pieces-container {
  min-height: 60px;
  background: rgba(0, 0, 0, 0.05);
  border-radius: 10px;
  padding: 10px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 5px;
}

.captured-piece {
  font-size: 1.8em;
  opacity: 0.7;
  /* Apply 3D effect to captured pieces too */
  transform-style: preserve-3d;
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.9), 1px 1px 1px rgba(0, 0, 0, 0.8),
    2px 2px 3px rgba(0, 0, 0, 0.6), 3px 3px 5px rgba(0, 0, 0, 0.4);
  transform: translateZ(2px) rotateX(8deg) rotateY(-2deg);
  display: inline-block;
  filter: drop-shadow(1px 1px 2px rgba(0, 0, 0, 0.3));
}

.modal {
  display: none;
  position: fixed;
  z-index: 2000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  align-items: center;
  justify-content: center;
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideIn {
  from {
    transform: translateY(-50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes bounce {
  0%,
  20%,
  50%,
  80%,
  100% {
    transform: translateY(0) scale(1);
  }
  40% {
    transform: translateY(-20px) scale(1.1);
  }
  60% {
    transform: translateY(-10px) scale(1.05);
  }
}

@keyframes rotate {
  from {
    transform: rotate(0deg) scale(0);
  }
  to {
    transform: rotate(360deg) scale(1);
  }
}

.modal-content {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  margin: auto;
  padding: 0;
  border-radius: 20px;
  width: 450px;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  background: rgba(255, 255, 255, 0.1);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
}

.modal-header h2 {
  color: #fff;
  margin: 0;
  font-size: 2rem;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.modal-close-btn {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: #fff;
  font-size: 1.5rem;
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 50%;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  line-height: 1;
  padding: 0;
}

.modal-close-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: rotate(90deg);
}

.modal-body {
  padding: 1rem;
}

.winner-image {
  width: 150px;
  height: 150px;
  border-radius: 50%;
  border: 5px solid #ffd700;
  object-fit: cover;
  margin: 0 auto 20px;
  box-shadow: 0 10px 30px rgba(255, 215, 0, 0.5);
}

.modal-content h2 {
  color: #fff;
  margin-bottom: 20px;
  font-size: 2.5em;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.modal-content p {
  color: #f0f0f0;
  font-size: 1.3em;
  margin-bottom: 30px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
}

.modal-button {
  padding: 15px 40px;
  background: #fff;
  color: #667eea;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  font-size: 1.2em;
  font-weight: bold;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.modal-button:hover {
  background: #ffd700;
  color: #333;
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
}

/* Chess piece Unicode symbols styling */
.white-piece {
  color: #ffffff;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
}

.black-piece {
  color: #2c2c2c;
  text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.3);
}

/* Responsive design */
@media (max-width: 768px) {
  .game-container {
    padding: 15px;
  }

  .game-header h1 {
    font-size: 2em;
  }

  .game-info {
    flex-direction: row;
    gap: 10px;
    justify-content: space-between;
  }

  .chess-container {
    flex-direction: row;
    gap: 5px;
    align-items: flex-start;
  }

  .board-labels.left-labels {
    order: 1;
    flex-direction: column;
    align-items: center;
  }

  .chess-board-container {
    order: 2;
  }

  .chess-board {
    grid-template-columns: repeat(8, 40px);
    grid-template-rows: repeat(8, 40px);
  }

  .square,
  .rank-label,
  .file-label {
    width: 40px;
    height: 40px;
  }

  .piece {
    font-size: 1.8em;
  }

  .captured-pieces {
    flex-direction: column;
    gap: 20px;
  }

  /* Player Selection Mobile */
  .player-selection {
    padding: 15px;
    margin-bottom: 20px;
  }

  .player-selection h3 {
    font-size: 1.5em;
    margin-bottom: 20px;
  }

  .players-container {
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .vs-divider {
    font-size: 2em;
    text-align: center;
    margin: 10px 0;
  }

  .player-setup {
    width: 100%;
  }

  .player-setup h4 {
    font-size: 1.2em;
    margin-bottom: 15px;
  }

  .player-options {
    grid-template-columns: 1fr;
    gap: 8px;
  }

  .player-option {
    padding: 10px;
  }

  .player-option img {
    width: 60px;
    height: 60px;
    margin-bottom: 5px;
  }

  .player-option span {
    font-size: 0.9em;
  }

  .selected-player {
    min-height: 70px;
    padding: 10px;
  }

  .selected-player img {
    width: 40px;
    height: 40px;
    margin-bottom: 5px;
  }

  .start-game-button {
    padding: 12px 30px;
    font-size: 1.2em;
    margin-top: 20px;
  }

  .current-player-info {
    font-size: 1.1em;
  }

  .current-player-display img {
    width: 35px;
    height: 35px;
  }

  .button-group {
    flex-direction: row;
    gap: 10px;
    width: auto;
    margin-left: auto;
    justify-content: flex-end;
  }

  .reset-button,
  .fullscreen-button {
    width: 100%;
    padding: 10px 20px;
    font-size: 1em;
  }
}

/* Color Themes */
.theme-blue .square.light {
  background-color: #e3f2fd;
}
.theme-blue .square.dark {
  background-color: #1976d2;
}
.theme-blue .piece.white-piece {
  color: #ffd700;
}
.theme-blue .piece.black-piece {
  color: #0d47a1;
}

.theme-green .square.light {
  background-color: #f1f8e9;
}
.theme-green .square.dark {
  background-color: #388e3c;
}
.theme-green .piece.white-piece {
  color: #fffde7;
}
.theme-green .piece.black-piece {
  color: #1b5e20;
}

.theme-purple .square.light {
  background-color: #f3e5f5;
}
.theme-purple .square.dark {
  background-color: #7b1fa2;
}
.theme-purple .piece.white-piece {
  color: #e1bee7;
}
.theme-purple .piece.black-piece {
  color: #4a148c;
}

.theme-red .square.light {
  background-color: #ffebee;
}
.theme-red .square.dark {
  background-color: #c62828;
}
.theme-red .piece.white-piece {
  color: #ffffff;
}
.theme-red .piece.black-piece {
  color: #b71c1c;
}

/* Board Styles */
.board-wood .square.light {
  background-color: #deb887;
  background-image: radial-gradient(
    circle at 25% 25%,
    rgba(222, 184, 135, 0.8) 0%,
    transparent 50%
  );
}
.board-wood .square.dark {
  background-color: #8b4513;
  background-image: radial-gradient(
    circle at 25% 25%,
    rgba(139, 69, 19, 0.8) 0%,
    transparent 50%
  );
}

.board-marble .square.light {
  background-color: #f8f8ff;
  background-image: linear-gradient(
    45deg,
    rgba(220, 220, 220, 0.3) 25%,
    transparent 25%
  );
}
.board-marble .square.dark {
  background-color: #2f4f4f;
  background-image: linear-gradient(
    45deg,
    rgba(47, 79, 79, 0.8) 25%,
    transparent 25%
  );
}

.board-neon .square.light {
  background-color: #000011;
  border: 1px solid #00ff88;
  box-shadow: inset 0 0 5px rgba(0, 255, 136, 0.3);
}
.board-neon .square.dark {
  background-color: #001122;
  border: 1px solid #ff0088;
  box-shadow: inset 0 0 5px rgba(255, 0, 136, 0.3);
}
.board-neon .piece {
  text-shadow: 0 0 10px currentColor;
}

/* Fullscreen Mode */
.game-container.fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  max-width: none;
  margin: 0;
  padding: 20px;
  border-radius: 0;
  z-index: 3000;
  background: rgba(255, 255, 255, 0.98);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.game-container.fullscreen .chess-board-container {
  padding: 15px;
  overflow: visible;
}

.game-container.fullscreen .chess-board {
  grid-template-columns: repeat(8, 80px);
  grid-template-rows: repeat(8, 80px);
  overflow: visible;
}

.game-container.fullscreen .square {
  width: 80px;
  height: 80px;
  overflow: visible;
}

.game-container.fullscreen .rank-label,
.game-container.fullscreen .file-label {
  width: 80px;
  height: 80px;
  font-size: 1.4em;
}

.game-container.fullscreen .piece {
  font-size: 3.5em;
}

/* Player Selection */
.player-selection {
  margin-bottom: 30px;
  padding: 25px;
  background: rgba(0, 0, 0, 0.02);
  border-radius: 15px;
  border: 2px solid #e0e0e0;
}

.game-mode-selection {
  margin-bottom: 25px;
  padding: 20px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 10px;
  border: 2px solid #e0e0e0;
}

.game-mode-selection h4 {
  margin-bottom: 15px;
  color: #333;
  font-size: 1.2em;
  text-align: center;
}

.radio-group {
  display: flex;
  gap: 20px;
  justify-content: center;
  flex-wrap: wrap;
}

.radio-label {
  display: flex;
  align-items: center;
  gap: 8px;
  cursor: pointer;
  padding: 10px 20px;
  border: 2px solid #ddd;
  border-radius: 8px;
  background: white;
  transition: all 0.3s ease;
  font-weight: 500;
  color: #333;
}

.radio-label:hover {
  border-color: #007bff;
  background: rgba(0, 123, 255, 0.05);
}

.radio-label input[type="radio"] {
  width: 18px;
  height: 18px;
  cursor: pointer;
  accent-color: #667eea;
}

.radio-label input[type="radio"]:checked + span {
  color: #667eea;
  font-weight: bold;
}

.radio-label input[type="radio"]:checked {
  accent-color: #667eea;
}

/* Style for checked radio label - using class added by JavaScript */
.radio-label.checked {
  border-color: #667eea;
  background: rgba(102, 126, 234, 0.1);
}

.one-player-setup {
  margin-top: 20px;
}

.player-side-selection {
  margin-bottom: 25px;
  padding: 15px;
  background: rgba(255, 255, 255, 0.5);
  border-radius: 10px;
  border: 2px solid #e0e0e0;
  text-align: center;
}

.player-side-selection h4 {
  margin-bottom: 15px;
  color: #333;
  font-size: 1.2em;
}

/* Player side selection radio buttons with color backgrounds */
.player-side-selection .radio-label {
  min-width: 120px;
}

.player-side-selection .radio-label.side-white {
  background: #f0d9b5;
  border-color: #b58863;
  color: #333;
}

.player-side-selection .radio-label.side-white:hover {
  background: #e6d0a8;
  border-color: #8b4513;
}

.player-side-selection .radio-label.side-white.checked {
  background: #f0d9b5;
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
}

.player-side-selection .radio-label.side-white.checked span {
  color: #333;
  font-weight: bold;
}

.player-side-selection .radio-label.side-black {
  background: #2c2c2c;
  border-color: #1a1a1a;
  color: white;
}

.player-side-selection .radio-label.side-black:hover {
  background: #1a1a1a;
  border-color: #000000;
}

.player-side-selection .radio-label.side-black.checked {
  background: #2c2c2c;
  border-color: #667eea;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
  color: white;
}

.player-side-selection .radio-label.side-black.checked span {
  color: white;
  font-weight: bold;
}

.player-side-selection .radio-label.side-black input[type="radio"] {
  accent-color: #ffd700;
}

.single-player-container {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 30px;
  align-items: center;
}

.pc-player {
  background: rgba(200, 200, 200, 0.3);
  border-color: #999;
}

.pc-player span {
  color: #666;
  font-style: italic;
}

.player-selection h3 {
  text-align: center;
  color: #333;
  margin-bottom: 25px;
  font-size: 1.8em;
}

.players-container {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 30px;
  align-items: center;
}

.player-setup {
  text-align: center;
}

.player-setup h4 {
  color: #555;
  margin-bottom: 20px;
  font-size: 1.3em;
}

.player-options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  margin-bottom: 20px;
}

.player-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 15px;
  border: 3px solid transparent;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  /* Prevent layout shift by maintaining consistent dimensions */
  box-sizing: border-box;
}

.player-option:hover {
  border-color: #007bff;
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
  /* Ensure border doesn't cause shift - use box-shadow inset for visual effect */
  border-width: 3px;
}

.player-option.selected {
  border-color: #28a745;
  background: rgba(40, 167, 69, 0.1);
  transform: translateY(-3px);
}

.player-option.disabled {
  opacity: 0.4;
  filter: grayscale(0.4);
  pointer-events: none;
}

.player-option img {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 8px;
  border: 2px solid #ddd;
  transition: all 0.3s ease;
  /* Prevent layout shift by maintaining consistent border width */
  box-sizing: border-box;
  display: block;
}

.player-option:hover img,
.player-option.selected img {
  border-color: #007bff;
  /* Keep border width consistent to prevent shift */
  border-width: 2px;
}

.player-option.selected img {
  border-color: #28a745;
  border-width: 2px;
}

.player-option span {
  font-weight: bold;
  color: #333;
  font-size: 1em;
}

.vs-divider {
  font-size: 2.5em;
  font-weight: bold;
  color: #666;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
}

.selected-player {
  padding: 15px;
  border: 2px dashed #ccc;
  border-radius: 10px;
  height: 110px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.5);
  transition: border-color 0.3s ease, border-style 0.3s ease,
    background 0.3s ease;
}

.selected-player.has-player {
  border-color: #28a745;
  border-style: solid;
  background: rgba(40, 167, 69, 0.1);
}

.selected-player img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 8px;
  border: 2px solid #28a745;
}

.selected-player span {
  font-weight: bold;
  color: #333;
}

.start-game-button {
  display: block;
  margin: 25px auto 0;
  padding: 15px 40px;
  background: #28a745;
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.3em;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.start-game-button:hover {
  background: #218838;
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
}

.current-player-info {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 1.3em;
  font-weight: bold;
  color: #444;
}

.current-player-display {
  display: flex;
  align-items: center;
  gap: 8px;
}

.current-player-display img {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #8b4513;
}

.game-container.fullscreen .player-selection {
  display: none;
}

/* Responsive design */
@media (max-width: 768px) {
  .game-container {
    padding: 15px;
  }

  .game-header h1 {
    font-size: 2em;
  }

  .game-info {
    flex-direction: row;
    gap: 12px;
    align-items: center;
    justify-content: space-between;
  }

  .button-group {
    flex-direction: row;
    width: auto;
    margin-left: auto;
    justify-content: flex-end;
  }

  .reset-button {
    width: auto;
  }

  .chess-container {
    flex-direction: row;
    gap: 5px;
    align-items: flex-start;
  }

  .board-labels.left-labels {
    order: 1;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .chess-board-container {
    order: 2;
  }

  .chess-board {
    grid-template-columns: repeat(8, 40px);
    grid-template-rows: repeat(8, 40px);
  }

  .square,
  .rank-label,
  .file-label {
    width: 40px;
    height: 40px;
  }

  .piece {
    font-size: 1.8em;
  }

  .captured-pieces {
    flex-direction: column;
    gap: 16px;
  }

  /* Settings Modal */
  .settings-modal-content,
  .games-modal-content,
  .xo-modal-content {
    width: 95vw;
    max-width: 95vw;
  }

  .modal-header {
    padding: 1.5rem;
  }

  .modal-header h2 {
    font-size: 1.5rem;
  }

  .modal-body {
    padding: 1.5rem;
  }

  .settings-modal-body {
    gap: 1.5rem;
  }

  .settings-modal-footer {
    padding: 1rem 1.5rem;
  }

  /* Player selection */
  .player-selection {
    padding: 18px;
  }

  .players-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
  }

  .vs-divider {
    font-size: 2em;
    text-align: center;
  }

  .player-setup {
    width: 100%;
  }

  .player-options {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  .player-option {
    width: 100%;
    max-width: 320px;
    margin: 0 auto;
  }

  .selected-player {
    width: 100%;
    max-width: 320px;
    margin: 0 auto;
  }

  .start-game-button {
    width: 100%;
  }

  .current-player-info {
    justify-content: center;
  }

  .game-mode-selection {
    padding: 15px;
  }

  .radio-group {
    flex-direction: column;
    gap: 10px;
  }

  .radio-label {
    width: 100%;
    justify-content: center;
  }

  .player-side-selection {
    padding: 12px;
  }

  .single-player-container {
    grid-template-columns: 1fr;
    gap: 20px;
  }

  .vs-divider {
    font-size: 2em;
    text-align: center;
  }
}

/* Lessons Tab Styles */
.lessons-container {
  padding: 20px;
}

.lessons-header {
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 30px;
  gap: 20px;
}

.lessons-title {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  text-align: center;
}

.lessons-container h2 {
  color: #333;
  margin: 0;
  font-size: 2em;
  line-height: 1.2;
}

.lessons-container h3 {
  color: #666;
  margin: 0;
  font-size: 1.3em;
  font-weight: normal;
  line-height: 1.2;
}

.lessons-roman-container {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.lessons-roman-img {
  width: 100px;
  height: 120px;
  border-radius: 8px;
  object-fit: cover;
  border: 3px solid #8b4513;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  flex-shrink: 0;
}

.lessons-instructor-select {
  padding: 8px 12px;
  border: 2px solid #8b4513;
  border-radius: 8px;
  background: white;
  font-size: 0.9rem;
  font-weight: 500;
  color: #333;
  cursor: pointer;
  transition: all 0.3s ease;
  min-width: 120px;
  text-align: center;
}

.lessons-instructor-select:hover {
  border-color: #6b3410;
  box-shadow: 0 2px 6px rgba(139, 69, 19, 0.2);
}

.lessons-instructor-select:focus {
  outline: none;
  border-color: #6b3410;
  box-shadow: 0 0 0 3px rgba(139, 69, 19, 0.2);
}

.roman-speech-bubble {
  position: absolute;
  left: 120px;
  top: 60px;
  transform: translateY(-50%);
  background: #fff;
  border: 3px solid #8b4513;
  border-radius: 20px;
  padding: 15px 20px;
  min-width: 200px;
  max-width: 300px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 10;
}

.roman-speech-bubble::before {
  content: "";
  position: absolute;
  left: -15px;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
  border-top: 12px solid transparent;
  border-bottom: 12px solid transparent;
  border-right: 15px solid #8b4513;
}

.roman-speech-bubble::after {
  content: "";
  position: absolute;
  left: -11px;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
  border-top: 10px solid transparent;
  border-bottom: 10px solid transparent;
  border-right: 12px solid #fff;
}

.speech-bubble-content {
  color: #333;
  font-size: 1rem;
  line-height: 1.5;
  min-height: 1.5em;
}

.speech-bubble-dots {
  color: #8b4513;
  font-size: 1.2rem;
  font-weight: bold;
  letter-spacing: 2px;
}

.lessons-content {
  display: flex;
  gap: 30px;
  flex-wrap: wrap;
  align-items: flex-start;
}

.piece-selector {
  flex: 0 0 300px;
  background: rgba(0, 0, 0, 0.02);
  padding: 20px;
  border-radius: 15px;
  border: 2px solid #e0e0e0;
}

.piece-selector h3 {
  color: #333;
  margin-bottom: 20px;
  font-size: 1.5em;
  text-align: center;
}

.piece-options {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 20px;
}

.lesson-piece-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px;
  border: 3px solid transparent;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  /* Prevent layout shift by maintaining consistent dimensions */
  box-sizing: border-box;
}

.lesson-piece-option:hover {
  border-color: #007bff;
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
  /* Ensure border doesn't cause shift - use box-shadow inset for visual effect */
  border-width: 3px;
}

.lesson-piece-option.selected {
  border-color: #28a745;
  background: rgba(40, 167, 69, 0.1);
  transform: translateY(-3px);
  border-width: 3px;
}

.lesson-piece {
  font-size: 2em;
  margin-bottom: 6px;
  user-select: none;
  display: inline-block;
  transform-style: preserve-3d;
  /* Enhanced 3D effect using multiple shadows and transforms - same as regular pieces */
  text-shadow: 0 0 1px rgba(0, 0, 0, 0.9), 1px 1px 1px rgba(0, 0, 0, 0.8),
    2px 2px 3px rgba(0, 0, 0, 0.6), 3px 3px 5px rgba(0, 0, 0, 0.4),
    4px 4px 7px rgba(0, 0, 0, 0.3), 5px 5px 9px rgba(0, 0, 0, 0.2),
    0 0 12px rgba(0, 0, 0, 0.15);
  transform: translateZ(2px) rotateX(8deg) rotateY(-2deg);
  filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.4))
    drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.2));
}

.lesson-piece-option span {
  font-weight: bold;
  color: #333;
  font-size: 0.8em;
  text-align: center;
  line-height: 1.2;
}

.clear-board-button {
  width: 100%;
  padding: 12px 24px;
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
  margin-bottom: 10px;
}

.clear-board-button:hover {
  background: #c82333;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.remove-piece-button {
  width: 100%;
  padding: 12px 24px;
  background: #ff9800;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
}

.remove-piece-button:hover {
  background: #f57c00;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.remove-piece-button:disabled {
  background: #ccc;
  color: #666;
  cursor: not-allowed;
  transform: none;
}

.remove-piece-button:disabled:hover {
  background: #ccc;
  transform: none;
  box-shadow: none;
}

.random-board-button {
  width: 100%;
  padding: 12px 24px;
  background: #9c27b0;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
  margin-top: 10px;
}

.random-board-button:hover {
  background: #7b1fa2;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* Mission Mode Styles */
.mission-selection {
  margin-bottom: 30px;
  padding: 25px;
  background: rgba(0, 0, 0, 0.02);
  border-radius: 15px;
  border: 2px solid #e0e0e0;
}

.mission-selection h3 {
  text-align: center;
  color: #333;
  margin-bottom: 25px;
  font-size: 1.8em;
}

.mission-setup {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 30px;
  margin-bottom: 25px;
}

.mission-player-section,
.mission-piece-section,
.mission-difficulty-section {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

.mission-player-section h4,
.mission-piece-section h4,
.mission-difficulty-section h4 {
  color: #555;
  margin-bottom: 20px;
  font-size: 1.3em;
}

.mission-player-options {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 20px;
  align-items: start;
}

.mission-player-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px;
  border: 3px solid transparent;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  box-sizing: border-box;
  min-height: 110px;
  justify-content: flex-start;
}

.mission-player-option:hover {
  border-color: #007bff;
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
  border-width: 3px;
}

.mission-player-option.selected {
  border-color: #28a745;
  background: rgba(40, 167, 69, 0.1);
  transform: translateY(-3px);
  border-width: 3px;
}

.mission-player-option img {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 8px;
  border: 2px solid #ddd;
  transition: all 0.3s ease;
  box-sizing: border-box;
  display: block;
}

.mission-player-option.selected img {
  border-color: #28a745;
  border-width: 2px;
}

.mission-player-option span {
  font-weight: bold;
  color: #333;
  font-size: 0.9em;
}

.mission-piece-options,
.mission-difficulty-options {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 20px;
  align-items: start;
}

.mission-piece-option,
.mission-difficulty-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 10px;
  border: 3px solid transparent;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
  background: white;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  box-sizing: border-box;
  min-height: 110px;
  justify-content: flex-start;
}

.mission-piece-option:hover,
.mission-difficulty-option:hover {
  border-color: #007bff;
  transform: translateY(-3px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
  border-width: 3px;
}

.mission-piece-option:hover .mission-piece {
  border-color: #007bff;
}

.mission-piece-option.selected,
.mission-difficulty-option.selected {
  border-color: #28a745;
  background: rgba(40, 167, 69, 0.1);
  transform: translateY(-3px);
  border-width: 3px;
}

.mission-piece-option.selected .mission-piece {
  border-color: #28a745;
  border-width: 2px;
}

.difficulty-icon {
  font-size: 3em;
  line-height: 1;
  margin-bottom: 8px;
  display: block;
  user-select: none;
}

.mission-difficulty-option span {
  font-weight: bold;
  color: #333;
  font-size: 1.1em;
  margin-bottom: 5px;
}

.mission-difficulty-option small {
  font-size: 0.85em;
  color: #666;
}

.mission-piece {
  width: 60px;
  height: 60px;
  font-size: 2em;
  margin-bottom: 8px;
  user-select: none;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  border: 2px solid #ddd;
  box-sizing: border-box;
  transition: all 0.3s ease;
}

.mission-piece-option span {
  font-weight: bold;
  color: #333;
  font-size: 0.9em;
  text-align: center;
  line-height: 1.2;
}

.selected-mission-player,
.selected-mission-piece,
.selected-mission-difficulty {
  padding: 15px;
  border: 2px dashed #ccc;
  border-radius: 10px;
  min-height: 80px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: rgba(255, 255, 255, 0.5);
  transition: border-color 0.3s ease, border-style 0.3s ease,
    background 0.3s ease;
}

.selected-mission-player.has-player,
.selected-mission-piece.has-piece,
.selected-mission-difficulty.has-difficulty {
  border-color: #28a745;
  border-style: solid;
  background: rgba(40, 167, 69, 0.1);
}

.selected-mission-player img {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  object-fit: cover;
  margin-bottom: 8px;
  border: 2px solid #28a745;
}

.selected-mission-player span,
.selected-mission-piece span {
  font-weight: bold;
  color: #333;
}

.start-mission-button {
  display: block;
  margin: 25px auto 0;
  padding: 15px 40px;
  background: #28a745;
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 1.3em;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.start-mission-button:hover {
  background: #218838;
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
}

.mission-game-area {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.mission-info {
  text-align: center;
  padding: 20px;
  background: rgba(0, 0, 0, 0.02);
  border-radius: 15px;
  border: 2px solid #e0e0e0;
}

.mission-info h3 {
  color: #333;
  font-size: 2em;
  margin-bottom: 10px;
}

.mission-info p {
  color: #555;
  font-size: 1.1em;
  margin-bottom: 15px;
}

.mission-timer-container {
  position: relative;
  width: 120px;
  height: 120px;
  margin: 20px auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.mission-timer-svg {
  width: 100%;
  height: 100%;
  transform: rotate(-90deg);
}

.mission-timer-bg {
  fill: none;
  stroke: #e0e0e0;
  stroke-width: 8;
}

.mission-timer-circle {
  fill: none;
  stroke: #28a745;
  stroke-width: 8;
  stroke-linecap: round;
  stroke-dasharray: 282.74;
  stroke-dashoffset: 0;
  transition: stroke-dashoffset 0.5s linear, stroke 0.3s ease;
  filter: drop-shadow(0 0 4px rgba(40, 167, 69, 0.5));
}

.mission-timer-container.timer-warning .mission-timer-circle {
  stroke: #dc3545;
  filter: drop-shadow(0 0 8px rgba(220, 53, 69, 0.8));
  animation: timer-pulse 0.5s ease-in-out infinite;
}

@keyframes timer-pulse {
  0%,
  100% {
    filter: drop-shadow(0 0 8px rgba(220, 53, 69, 0.8));
  }
  50% {
    filter: drop-shadow(0 0 16px rgba(220, 53, 69, 1));
  }
}

.mission-timer-text {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 1.5rem;
  font-weight: bold;
  color: #333;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
  z-index: 1;
}

.mission-timer-container.timer-warning .mission-timer-text {
  color: #dc3545;
  animation: timer-text-pulse 0.5s ease-in-out infinite;
}

@keyframes timer-text-pulse {
  0%,
  100% {
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
  }
}

.mission-stats {
  font-size: 1.2em;
  color: #333;
}

.mission-stats strong {
  color: #dc3545;
  font-size: 1.3em;
}

.mission-controls {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 15px;
  flex-wrap: wrap;
}

.hint-button {
  padding: 12px 24px;
  background: #ffc107;
  color: #333;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.hint-button:hover {
  background: #ffb300;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.reset-mission-button {
  padding: 12px 24px;
  background: #17a2b8;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.1em;
  font-weight: bold;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 8px;
}

.reset-mission-button:hover {
  background: #138496;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.square.hint-capture {
  background-color: #ffeb3b !important;
  box-shadow: 0 0 20px rgba(255, 235, 59, 0.8) !important;
  animation: hint-pulse 1.5s ease-in-out infinite;
}

@keyframes hint-pulse {
  0%,
  100% {
    box-shadow: 0 0 20px rgba(255, 235, 59, 0.8);
  }
  50% {
    box-shadow: 0 0 30px rgba(255, 235, 59, 1);
  }
}

/* Mission Failure Modal */
.mission-failure-content {
  text-align: center;
}

.lessons-board-container {
  flex: 1;
  min-width: 400px;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.lesson-instructions {
  margin-top: 20px;
  padding: 20px;
  background: rgba(0, 0, 0, 0.02);
  border-radius: 10px;
  border: 2px solid #e0e0e0;
  max-width: 500px;
}

.lesson-instructions p {
  margin: 10px 0;
  color: #555;
  font-size: 1.1em;
  line-height: 1.6;
}

.lesson-instructions p:first-child {
  margin-top: 0;
}

.lesson-instructions p:last-child {
  margin-bottom: 0;
}

@media (max-width: 768px) {
  .tabs {
    flex-direction: column;
    gap: 5px;
  }

  .tab-button {
    border-radius: 8px;
    border-bottom: 3px solid transparent;
  }

  .tab-button.active {
    border-bottom-color: #667eea;
  }

  .lessons-header {
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: 15px;
  }

  .lessons-title {
    align-items: center;
  }

  .lessons-roman-container {
    flex-direction: column;
    align-items: center;
  }

  .lessons-roman-img {
    width: 80px;
    height: 100px;
  }

  .lessons-instructor-select {
    min-width: 100px;
    font-size: 0.85rem;
    padding: 6px 10px;
  }

  .roman-speech-bubble {
    position: relative;
    left: auto;
    top: auto;
    transform: none;
    margin-top: 15px;
    max-width: 250px;
    margin-top: 0;
  }

  .roman-speech-bubble::before {
    left: 50%;
    top: -15px;
    transform: translateX(-50%);
    border-top: none;
    border-bottom: 15px solid #8b4513;
    border-left: 12px solid transparent;
    border-right: 12px solid transparent;
  }

  .roman-speech-bubble::after {
    left: 50%;
    top: -12px;
    transform: translateX(-50%);
    border-top: none;
    border-bottom: 12px solid #fff;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
  }

  .lessons-content {
    flex-direction: column;
  }

  .piece-selector {
    flex: 1;
    width: 100%;
  }

  .piece-options {
    grid-template-columns: repeat(3, 1fr);
  }

  .lessons-board-container {
    width: 100%;
    min-width: auto;
  }

  .mission-setup {
    grid-template-columns: 1fr;
    gap: 20px;
  }

  .mission-difficulty-options {
    grid-template-columns: 1fr;
  }

  .mission-player-options,
  .mission-piece-options {
    grid-template-columns: repeat(2, 1fr);
  }

  .mission-controls {
    flex-direction: column;
    width: 100%;
  }

  .hint-button,
  .reset-mission-button {
    width: 100%;
  }
}

/* Replay Controls */
.replay-controls {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1500;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  border: 2px solid #667eea;
  animation: slideIn 0.3s ease;
}

.replay-controls-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 15px;
}

.replay-controls-content h3 {
  margin: 0;
  color: #333;
  font-size: 1.3em;
}

.replay-buttons {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  justify-content: center;
}

.replay-control-btn {
  padding: 10px 20px;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1em;
  font-weight: bold;
  transition: all 0.3s ease;
  min-width: 100px;
}

.replay-control-btn:hover {
  background: #5568d3;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.replay-control-btn:active {
  transform: translateY(0);
}

.replay-control-btn:disabled {
  background: #ccc;
  color: #666;
  cursor: not-allowed;
  transform: none;
}

.replay-control-btn:disabled:hover {
  background: #ccc;
  transform: none;
  box-shadow: none;
}

.replay-info {
  font-size: 1.1em;
  color: #333;
  font-weight: bold;
}

.replay-exit-btn {
  padding: 10px 24px;
  background: #dc3545;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1em;
  font-weight: bold;
  transition: all 0.3s ease;
}

.replay-exit-btn:hover {
  background: #c82333;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

@media (max-width: 768px) {
  .replay-controls {
    bottom: 10px;
    left: 10px;
    right: 10px;
    transform: none;
    padding: 15px;
  }

  .replay-buttons {
    flex-direction: column;
    width: 100%;
  }

  .replay-control-btn {
    width: 100%;
  }
}

/* Radio Player Slider */
.radio-slider {
  position: fixed;
  top: 0;
  right: -400px;
  width: 400px;
  height: 100vh;
  background: rgba(255, 255, 255, 0.98);
  box-shadow: -5px 0 20px rgba(0, 0, 0, 0.2);
  z-index: 2500;
  transition: right 0.3s ease;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
}

.radio-slider.open {
  right: 0;
}

.radio-slider-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-bottom: 2px solid rgba(255, 255, 255, 0.2);
}

.radio-slider-header h3 {
  margin: 0;
  font-size: 1.5em;
}

.radio-close-btn {
  background: rgba(255, 255, 255, 0.2);
  border: none;
  color: white;
  font-size: 1.5em;
  width: 35px;
  height: 35px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}

.radio-close-btn:hover {
  background: rgba(255, 255, 255, 0.3);
  transform: rotate(90deg);
}

.radio-slider-content {
  flex: 1;
  padding: 20px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.radio-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.radio-section h4 {
  color: #333;
  margin-bottom: 15px;
  font-size: 1.2em;
  flex-shrink: 0;
}

.radio-search-box {
  display: flex;
  gap: 10px;
  margin-bottom: 15px;
  flex-shrink: 0;
}

.radio-search-input {
  flex: 1;
  padding: 10px 15px;
  border: 2px solid #ddd;
  border-radius: 8px;
  font-size: 1em;
  transition: border-color 0.3s ease;
}

.radio-search-input:focus {
  outline: none;
  border-color: #667eea;
}

.radio-search-btn {
  padding: 10px 20px;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.2em;
  transition: all 0.3s ease;
}

.radio-search-btn:hover {
  background: #5568d3;
  transform: translateY(-2px);
}

.radio-stations-list {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  min-height: 0;
}

.radio-loading {
  text-align: center;
  padding: 20px;
  color: #666;
}

.radio-station-item {
  padding: 12px;
  margin-bottom: 10px;
  background: white;
  border: 2px solid #e0e0e0;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-sizing: border-box;
  width: 100%;
  max-width: 100%;
}

.radio-station-item:hover {
  border-color: #667eea;
  box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
  /* transform: scale(1.02); */
}

.radio-station-item.playing {
  border-color: #28a745;
  background: rgba(40, 167, 69, 0.1);
}

.radio-station-name {
  font-weight: bold;
  color: #333;
  margin-bottom: 5px;
}

.radio-station-info {
  font-size: 0.9em;
  color: #666;
}

.radio-player-controls {
  padding: 15px 20px;
  background: rgba(0, 0, 0, 0.05);
  border-top: 2px solid #e0e0e0;
  position: sticky;
  bottom: 0;
  background: white;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
}

.now-playing {
  margin-bottom: 10px;
  font-size: 0.9em;
  color: #666;
}

#current-station-name {
  font-weight: bold;
  color: #333;
}

.player-buttons {
  display: flex;
  gap: 10px;
  justify-content: center;
}

.player-btn {
  padding: 10px 20px;
  background: #667eea;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.2em;
  transition: all 0.3s ease;
}

.player-btn:hover {
  background: #5568d3;
  transform: translateY(-2px);
}

/* Floating player controls when slider is closed */
.radio-player-controls.floating {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 300px;
  border-radius: 10px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  z-index: 2400;
  border: 2px solid #667eea;
}

/* Dance Slider */
.dance-slider {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
  background-size: 200% 200%;
  z-index: 3000;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  animation: danceBackground 6s ease infinite;
  overflow: hidden;
}

/* Animated Text */
.dance-text {
  position: absolute;
  font-size: clamp(4rem, 8vw, 8rem);
  font-weight: bold;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  text-transform: uppercase;
  user-select: none;
  pointer-events: none;
  z-index: 1;
  white-space: nowrap;
  text-shadow: 0 0 20px rgba(255, 255, 255, 0.8),
    0 0 40px rgba(255, 215, 0, 0.6),
    0 0 60px rgba(255, 255, 255, 0.4);
  animation: textMove 30s linear infinite,
    textColor 8s ease-in-out infinite,
    textSize 6s ease-in-out infinite;
  will-change: left, top, color, font-size;
  max-width: 90vw;
  transform: translate(-50%, -50%);
  overflow: visible;
}

@keyframes textMove {
  0% {
    left: 10%;
    top: 15%;
  }
  20% {
    left: 70%;
    top: 15%;
  }
  40% {
    left: 70%;
    top: 75%;
  }
  60% {
    left: 10%;
    top: 75%;
  }
  80% {
    left: 10%;
    top: 45%;
  }
  100% {
    left: 10%;
    top: 15%;
  }
}

@keyframes textColor {
  0% {
    color: #ffd700;
  }
  25% {
    color: #ff6b6b;
  }
  50% {
    color: #4ecdc4;
  }
  75% {
    color: #95e1d3;
  }
  100% {
    color: #ffd700;
  }
}

@keyframes textSize {
  0%, 100% {
    font-size: clamp(4rem, 8vw, 8rem);
  }
  50% {
    font-size: clamp(6rem, 12vw, 12rem);
  }
}

@keyframes danceBackground {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

/* Moving Melodies */
.dance-melodies {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 2;
  pointer-events: none;
  overflow: hidden;
}

.dance-melody {
  position: absolute;
  font-size: 3rem;
  opacity: 0.6;
  user-select: none;
  pointer-events: none;
  animation: melodyFloat 20s linear infinite;
  text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
}

@keyframes melodyFloat {
  0% {
    transform: translateY(100vh) translateX(0) rotate(0deg);
    opacity: 0;
  }
  10% {
    opacity: 0.6;
  }
  90% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-100px) translateX(100px) rotate(360deg);
    opacity: 0;
  }
}

.dancing-person {
  position: absolute;
  width: 160px; /* Reduced by 20% from 200px */
  height: 240px; /* Reduced by 20% from 300px */
  user-select: none;
  pointer-events: none;
  transition: left 4s ease, top 4s ease;
  animation: bodyBounce 1.6s ease-in-out infinite;
  transform-origin: center bottom;
  z-index: 10;
  opacity: 0.85;
}

/* Head */
.dance-head {
  width: 64px; /* Reduced by 20% from 80px */
  height: 64px; /* Reduced by 20% from 80px */
  border-radius: 50%;
  margin: 0 auto;
  position: relative;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  animation: headBounce 1.2s ease-in-out infinite;
  overflow: hidden;
  border: 3px solid rgba(255, 255, 255, 0.3);
}

.dance-face {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center -40%;
  border-radius: 50%;
  display: block;
  transform: scale(3.5);
}

.dance-face-katrine {
  object-position: center 15%;
  transform: scale(2.5);
}

/* Torso */
.dance-torso {
  position: relative;
  width: 80px; /* Reduced by 20% from 100px */
  height: 96px; /* Reduced by 20% from 120px */
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  margin: 0 auto;
  border-radius: 15px 15px 5px 5px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  animation: torsoSway 1.4s ease-in-out infinite;
}

/* Arms Container */
.dance-arms {
  position: absolute;
  top: 72px; /* Position at shoulder level (adjusted for 20% reduction) */
  left: 50%;
  transform: translateX(-50%);
  width: 160px; /* Reduced by 20% from 200px */
  height: 16px; /* Reduced by 20% from 20px */
  transform-origin: center;
}

.dance-arm {
  position: absolute;
  width: 16px; /* Reduced by 20% from 20px */
  height: 64px; /* Reduced by 20% from 80px */
  background: linear-gradient(135deg, #ffdbac 0%, #f4c2a1 100%);
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  top: 0;
}

.dance-arm-left {
  left: 32px; /* Adjusted for 20% reduction */
  transform-origin: top center;
  animation: armWaveLeft 1s ease-in-out infinite;
}

.dance-arm-right {
  right: 32px; /* Adjusted for 20% reduction */
  transform-origin: top center;
  animation: armWaveRight 1s ease-in-out infinite;
}

/* Legs Container */
.dance-legs {
  position: relative;
  width: 96px; /* Reduced by 20% from 120px */
  height: 16px; /* Reduced by 20% from 20px */
  margin: 0 auto;
  top: -4px; /* Adjusted for 20% reduction */
}

.dance-leg {
  position: absolute;
  width: 20px; /* Reduced by 20% from 25px */
  height: 80px; /* Reduced by 20% from 100px */
  background: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
  border-radius: 12px 12px 5px 5px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  transform-origin: top center;
}

.dance-leg-left {
  left: 16px; /* Reduced by 20% from 20px */
  animation: legKickLeft 1.2s ease-in-out infinite;
}

.dance-leg-right {
  right: 16px; /* Reduced by 20% from 20px */
  animation: legKickRight 1.2s ease-in-out infinite;
}

/* Feet */
.dance-foot {
  position: absolute;
  bottom: -12px; /* Adjusted for 20% reduction */
  left: 50%;
  transform: translateX(-50%);
  width: 28px; /* Reduced by 20% from 35px */
  height: 16px; /* Reduced by 20% from 20px */
  background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
  border-radius: 0 0 15px 15px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
}

/* Katrine Specific Styles */
.dancing-katrine {
  z-index: 11;
  opacity: 0.85;
}

.dancing-katrine .dance-torso-dress {
  background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
}

/* Katrine Legs - styled differently */
.dancing-katrine .dance-leg {
  background: linear-gradient(135deg, #ff6b9d 0%, #c44569 100%);
}

.dancing-katrine .dance-foot {
  background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
}

/* Decorations */
.dance-decoration {
  position: absolute;
  font-size: 1.5rem;
  z-index: 1;
  pointer-events: none;
  animation: decorationFloat 2s ease-in-out infinite;
}

.dance-car {
  top: 50%;
  left: 50%;
  animation: decorationFloat 2s ease-in-out infinite;
}

.dance-flower {
  top: 20%;
  left: 50%;
  animation: flowerFloat 2.5s ease-in-out infinite;
}

@keyframes decorationFloat {
  0%, 100% {
    transform: translate(-50%, -50%) translateY(0);
  }
  50% {
    transform: translate(-50%, -50%) translateY(-5px);
  }
}

@keyframes flowerFloat {
  0%, 100% {
    transform: translateX(-50%) translateY(0) rotate(0deg);
  }
  50% {
    transform: translateX(-50%) translateY(-5px) rotate(10deg);
  }
}

/* Animations */
@keyframes bodyBounce {
  0%, 100% {
    transform: translateY(0) rotate(-5deg);
  }
  50% {
    transform: translateY(-20px) rotate(5deg);
  }
}

@keyframes headBounce {
  0%, 100% {
    transform: translateY(0) rotate(-3deg);
  }
  50% {
    transform: translateY(-5px) rotate(3deg);
  }
}

@keyframes torsoSway {
  0%, 100% {
    transform: rotate(-8deg);
  }
  50% {
    transform: rotate(8deg);
  }
}

@keyframes armWaveLeft {
  0%, 100% {
    transform: rotate(-30deg);
  }
  50% {
    transform: rotate(60deg);
  }
}

@keyframes armWaveRight {
  0%, 100% {
    transform: rotate(30deg);
  }
  50% {
    transform: rotate(-60deg);
  }
}

@keyframes legKickLeft {
  0%, 100% {
    transform: rotate(-15deg);
  }
  50% {
    transform: rotate(25deg);
  }
}

@keyframes legKickRight {
  0%, 100% {
    transform: rotate(15deg);
  }
  50% {
    transform: rotate(-25deg);
  }
}

@media (max-width: 768px) {
  .radio-slider {
    width: 100%;
    right: -100%;
  }

  .radio-player-controls.floating {
    width: calc(100% - 40px);
    right: 20px;
    left: 20px;
  }

  .header-buttons {
    flex-direction: column;
    gap: 10px;
  }

  .more-games-btn {
    width: 100%;
    max-width: 300px;
    font-size: 1.5em;
    padding: 12px 20px;
    min-width: 48px;
    min-height: 48px;
  }

  .radio-icon-btn {
    width: 100%;
    max-width: 300px;
    font-size: 1.5em;
    padding: 12px 20px;
    min-width: 48px;
    min-height: 48px;
  }
}

/* Games Selection Modal */
.games-modal-content {
  max-width: 600px;
  width: 90%;
  padding: 0;
  overflow: hidden;
}

.games-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 20px;
  margin: 30px 0;
}

.game-option {
  padding: 30px 20px;
  background: rgba(255, 255, 255, 0.2);
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 15px;
  cursor: pointer;
  transition: all 0.3s ease;
  text-align: center;
}

.game-option:hover {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.5);
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
}

.game-icon {
  font-size: 3em;
  margin-bottom: 10px;
}

.game-name {
  font-size: 1.3em;
  font-weight: bold;
  color: #fff;
  margin-bottom: 5px;
}

.game-description {
  font-size: 0.9em;
  color: rgba(255, 255, 255, 0.8);
}

/* XO Game Modal */
.xo-modal-content {
  max-width: 100%;
  width: 95%;
  max-height: 90vh;
  overflow-y: auto;
  margin: auto;
  padding: 0;
  overflow: hidden;
}

.xo-modal-content .modal-body {
  overflow-y: auto;
  max-height: calc(90vh - 100px);
}

.xo-game-setup {
  margin: 20px 0;
}

.xo-game-setup h3 {
  color: #fff;
  margin-bottom: 20px;
  text-align: center;
  font-size: 1.5em;
}

.xo-game-mode-selection {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-bottom: 30px;
}

.xo-game-mode-selection .radio-label {
  background: white !important;
}

.xo-game-mode-selection .radio-label:hover {
  background: white !important;
}

.xo-game-mode-selection .radio-label.checked {
  background: white !important;
}

.xo-player-selection {
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  gap: 30px;
  align-items: start;
  margin-bottom: 20px;
}

.xo-player-setup {
  text-align: center;
}

.xo-player-setup h4 {
  color: #fff;
  margin-bottom: 15px;
  font-size: 1.2em;
}

.xo-player-setup .player-options {
  display: grid !important;
  grid-template-columns: repeat(2, 1fr) !important;
  gap: 15px;
  margin-bottom: 20px;
}

.xo-game-area {
  margin: 20px 0;
}

.xo-game-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  padding: 15px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 10px;
}

.xo-current-player {
  font-size: 1.2em;
  color: #fff;
  font-weight: bold;
}

#xo-current-player-name {
  color: #ffd700;
  text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
}

.xo-board-container {
  display: flex;
  justify-content: center;
  margin: 20px 0;
}

.xo-board {
  display: grid;
  grid-template-columns: repeat(3, 100px);
  grid-template-rows: repeat(3, 100px);
  gap: 5px;
  background: rgba(255, 255, 255, 0.2);
  padding: 5px;
  border-radius: 10px;
}

.xo-cell {
  width: 100px;
  height: 100px;
  background: rgba(255, 255, 255, 0.9);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 3em;
  font-weight: bold;
  transition: all 0.2s ease;
  color: #333;
}

.xo-cell:hover:not(.disabled) {
  background: rgba(255, 255, 255, 1);
  transform: scale(1.05);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.xo-cell.disabled {
  cursor: not-allowed;
  opacity: 0.7;
}

.xo-cell.x {
  color: #e74c3c;
}

.xo-cell.o {
  color: #3498db;
}

.xo-game-status {
  text-align: center;
  font-size: 1.3em;
  color: #fff;
  font-weight: bold;
  margin-top: 20px;
  min-height: 30px;
}

@media (max-width: 768px) {
  .xo-player-selection {
    grid-template-columns: 1fr;
    gap: 20px;
  }

  .xo-player-setup .player-options {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .xo-board {
    grid-template-columns: repeat(3, 80px);
    grid-template-rows: repeat(3, 80px);
  }

  .xo-cell {
    width: 80px;
    height: 80px;
    font-size: 2.5em;
  }

  .xo-game-info {
    flex-direction: column;
    gap: 15px;
  }
}

/* Race Game Modal - REMOVED */